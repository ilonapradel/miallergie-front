<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col class="ion-text-center">
        <ion-title class="ion-text-center">Nouvelle recette</ion-title>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-row>
    <ion-col>
      <ion-thumbnail>
        <img src="https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y">
      </ion-thumbnail>
    </ion-col>
    <ion-col>
      <ion-list>
        <ion-item>
          <ion-label position="floating">Régime alimentaire</ion-label>
          <ion-select okText="Valider" cancelText="Annuler">
            <ion-select-option *ngFor="let reg of regimesAlimentaire">{{reg}}</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Durée en minutes</ion-label>
          <ion-input type="number" inputmode="numeric" min="0"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>Difficulté</ion-label>
          <ion-icon *ngFor="let num of [0, 1, 2, 3, 4]" size="large" name="trophy" [(color)]="diff_name[num]"
            (click)="clickOnStar(num)">
          </ion-icon>
        </ion-item>
        <ion-item>
          <ion-label position="floating">Nombre de personnes</ion-label>
          <ion-input type="number" inputmode="numeric" min="0"></ion-input>
        </ion-item>
      </ion-list>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col>
      <ionic-selectable #ingredientComponent placeholder="Ingrédients" [(ngModel)]="selectedIngs" [items]="ings"
        itemValueField="id" itemTextField="name" [canSearch]="true" [isMultiple]="true"
        (onChange)="onIngredientChange($event)">
      </ionic-selectable>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col>
      <ion-grid>
        <ion-row style="border-bottom: groove;">
          <ion-col>
            <ion-label>Ingrédients</ion-label>
          </ion-col>
          <ion-col>
            <ion-label>Quantité</ion-label>
          </ion-col>
          <ion-col>
            <ion-label>Unité</ion-label>
          </ion-col>
        </ion-row>
        <ion-row *ngFor="let ing of selectedIngs">
          <ion-col>{{ing.name}}</ion-col>
          <ion-col>
            <ion-input [(ngModel)]="ing.quantity" type="number" inputmode="decimal" min="0"></ion-input>
          </ion-col>
          <ion-col>
            <ion-select [(ngModel)]="ing.unity" okText="Valider" cancelText="Annuler">
              <ion-select-option *ngFor="let unite of unites">{{unite}}</ion-select-option>
            </ion-select>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col>
      <ion-item-divider></ion-item-divider>
      <ion-label>Rédaction des étapes</ion-label>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col>
      <ion-item>
        <ion-label position="floating">Nombre d'étapes</ion-label>
        <ion-input [(ngModel)]="nbSteps" type="number" inputmode="numeric" min="0"></ion-input>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row *ngFor="let number of [].constructor(nbSteps); let i = index">
    <ion-col>
      <ion-label>Etape {{i+1}}</ion-label>
      <ion-textarea></ion-textarea>
    </ion-col>
  </ion-row>
</ion-content>